{"map":{"version":3,"sources":["static/js/main.c0da5cb7.chunk.js"],"names":["this","push","17","module","exports","__webpack_require__","22","29","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","comps_Title","a","createElement","className","objectSpread2","index_esm","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","hooks_useFirestore","collection","_useState","Object","_useState2","docs","setDocs","unsub","orderBy","onSnapshot","snap","documents","forEach","doc","data","id","framer_motion_es","comps_ImageGrid","_ref","setSelectedImg","map","div","key","layout","whileHover","opacity","onClick","url","img","src","alt","initial","animate","transition","delay","photoURL","comps_Zoom","selectedImg","e","target","classList","contains","y","regenerator","regenerator_default","asyncToGenerator","hooks_useStorage","file","progress","setProgress","_useState3","_useState4","error","setError","_useState5","_useState6","setUrl","storageRef","ref","name","collectionRef","put","on","percentage","bytesTransferred","totalBytes","err","mark","_callee","createdAt","_auth$currentUser","uid","wrap","_context","prev","next","getDownloadURL","sent","auth","currentUser","add","stop","comps_ProgressBar","setFile","_useStorage","width","comps_UploadForm","types","type","onChange","selected","files","includes","react_firebase_hooks_auth_dist_index_esm","SignIn","Fragment","provider","GoogleAuthProvider","signInWithPopup","SignOut","signOut","comps_CheckAuth","_useAuthState","src_App","render","StrictMode","document","getElementById"],"mappings":"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"},"code":"(this.webpackJsonpfotogrid=this.webpackJsonpfotogrid||[]).push([[0],{17:function(e,t,a){e.exports=a(29)},22:function(e,t,a){},29:function(e,t,a){\"use strict\";a.r(t);var n=a(1),r=a.n(n),c=a(14),l=a.n(c),i=(a(22),a(5)),o=function(){return r.a.createElement(\"div\",{className:\"title\"},r.a.createElement(\"h1\",null,\"FotoGrid\"),r.a.createElement(\"h2\",null,\" Awesome Photobook  \"),r.a.createElement(\"p\",null,\" Try uploading some photos to show the whole World \",r.a.createElement(\"br\",null),\" that you have access to the internet \\u2603\\ufe0f \"))},u=a(12),s=a(9);a(31),a(23);s.a.initializeApp({apiKey:\"AIzaSyBpngPJObX8dO__rantT5B5GUiCIHD4NTo\",authDomain:\"fotogrid-f721f.firebaseapp.com\",databaseURL:\"https://fotogrid-f721f.firebaseio.com\",projectId:\"fotogrid-f721f\",storageBucket:\"fotogrid-f721f.appspot.com\",messagingSenderId:\"144160098659\",appId:\"1:144160098659:web:55d200b9ff630fbed96b56\",measurementId:\"G-2YJ18LXKXS\"});var m=s.a.storage(),d=s.a.firestore(),f=s.a.firestore.FieldValue.serverTimestamp(),p=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=d.collection(e).orderBy(\"createdAt\",\"desc\").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),c(t)}));return function(){return t()}}),[e]),{docs:r}},g=a(8),b=function(e){var t=e.setSelectedImg,a=p(\"images\").docs;return r.a.createElement(\"div\",{className:\"img-grid\"},a&&a.map((function(e){return r.a.createElement(g.a.div,{className:\"img-wrap\",key:e.id,layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)}},r.a.createElement(g.a.img,{src:e.url,alt:\"uploaded imgs\",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}}),r.a.createElement(\"img\",{className:\"avatar\",alt:\"uploader avatar\",src:e.photoURL||\"https://api.adorable.io/avatars/23/abott@adorable.png\"}))})))},E=function(e){var t=e.selectedImg,a=e.setSelectedImg;return r.a.createElement(g.a.div,{className:\"backdrop\",onClick:function(e){e.target.classList.contains(\"backdrop\")&&a(null)},initial:{opacity:0},animate:{opacity:1}},r.a.createElement(g.a.img,{src:t,alt:\"enlarged pic\",initial:{y:\"-100vh\"},animate:{y:0}}))},v=(a(26),a(11)),h=a.n(v),O=a(15),j=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),o=Object(i.a)(l,2),u=o[0],s=o[1],p=Object(n.useState)(null),g=Object(i.a)(p,2),b=g[0],E=g[1];return Object(n.useEffect)((function(){var t=m.ref(e.name),a=d.collection(\"images\");t.put(e).on(\"stage_change\",(function(e){var t=e.bytesTransferred/e.totalBytes*100;c(t)}),(function(e){s(e)}),Object(O.a)(h.a.mark((function e(){var n,r,c,l,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,r=f,c=I.currentUser,l=c.uid,i=c.photoURL,a.add({url:n,createdAt:r,uid:l,photoURL:i}),E(n);case 7:case\"end\":return e.stop()}}),e)}))))}),[e]),{progress:r,url:b,error:u}},y=function(e){var t=e.file,a=e.setFile,c=j(t),l=c.url,i=c.progress;return Object(n.useEffect)((function(){l&&a(null)}),[l,a]),r.a.createElement(g.a.div,{className:\"progress-bar\",initial:{width:0},animate:{width:i+\"%\"}})},S=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(i.a)(l,2),u=o[0],s=o[1],m=[\"image/png\",\"image/jpeg\"];return r.a.createElement(\"form\",null,r.a.createElement(\"label\",null,r.a.createElement(\"input\",{type:\"file\",onChange:function(e){var t=e.target.files[0];t&&m.includes(t.type)?(c(t),s(\"\")):(c(null),s(\"Please select an image file (png or jpg)\"))}}),r.a.createElement(\"span\",null,\"+\")),r.a.createElement(\"div\",{className:\"output\"},u&&r.a.createElement(\"div\",{className:\"error\"},u),a&&r.a.createElement(\"div\",null,a.name),a&&r.a.createElement(y,{file:a,setFile:c})))},w=a(16),I=s.a.auth();function k(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"button\",{className:\"sign-in\",onClick:function(){var e=new s.a.auth.GoogleAuthProvider;I.signInWithPopup(e)}},\"Sign in with Google to upload pic \\ud83d\\udcf7\"))}function N(){return I.currentUser&&r.a.createElement(\"button\",{className:\"sign-out\",onClick:function(){return I.signOut()}},\"Sign Out\")}var U=function(){var e=Object(w.a)(I);return Object(i.a)(e,1)[0]?r.a.createElement(\"div\",null,r.a.createElement(N,null),r.a.createElement(S,null)):r.a.createElement(k,null)};var A=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(o,null),r.a.createElement(U,null),r.a.createElement(b,{setSelectedImg:c}),a&&r.a.createElement(E,{selectedImg:a,setSelectedImg:c}))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById(\"root\"))}},[[17,1,2]]]);","extractedComments":[]}